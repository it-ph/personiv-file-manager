{"version":3,"sources":["guest.module.js","guest.routes.js","controllers/category-content-container.controller.js","controllers/main-content-container.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"guest.js","sourcesContent":["var guestModule = angular.module('guest', [\r\n\t'sharedModule',\r\n]);","guestModule\r\n\t.config(['$stateProvider',function($stateProvider) {\r\n\t\t$stateProvider\r\n\t\t\t.state('main', {\r\n\t\t\t\turl:'/',\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/main.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainViewController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content-container@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'mainContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/main-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main': {\r\n\t\t\t\t\t\ttemplateUrl:'/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.state('main.category', {\r\n\t\t\t\turl:'category/{categoryID}',\r\n\t\t\t\tparams: {'categoryID':null},\r\n\t\t\t\tviews: {\r\n\t\t\t\t\t'content-container': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/views/content-container.view.html',\r\n\t\t\t\t\t\tcontroller: 'categoryContentContainerController',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'content@main.category': {\r\n\t\t\t\t\t\ttemplateUrl: '/app/shared/templates/category-content.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'toolbar@main.category': {\r\n\t\t\t\t\t\ttemplateUrl:'/app/shared/templates/toolbar.template.html',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t}]);","guestModule\r\n\t.controller('categoryContentContainerController', ['$scope', '$state', '$stateParams', '$mdDialog', 'Category', 'Document', 'Preloader', function($scope, $state, $stateParams, $mdDialog, Category, Document, Preloader){\r\n\t\tvar categoryID = $stateParams.categoryID;\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.showBack = true;\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.document.show = false;\r\n\t\t\tPreloader.loading();\r\n\t\t\tDocument.search($scope.toolbar)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.document.results = data;\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tCategory.show(categoryID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.category = data;\r\n\t\t\t\t$scope.toolbar.childState = data.name;\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t});\r\n\r\n\t\t$scope.document = {};\r\n\t\t$scope.document.paginated = [];\r\n\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t$scope.document.page = 2;\r\n\r\n\t\tDocument.paginateCategory(categoryID)\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.document.details = data;\r\n\t\t\t\t$scope.document.paginated = data.data;\r\n\t\t\t\t$scope.document.show = true;\r\n\r\n\t\t\t\t$scope.document.paginateLoad = function(){\r\n\t\t\t\t\t// kills the function if ajax is busy or pagination reaches last page\r\n\t\t\t\t\tif($scope.document.busy || ($scope.document.page > $scope.document.details.last_page)){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Executes pagination call\r\n\t\t\t\t\t *\r\n\t\t\t\t\t*/\r\n\t\t\t\t\t// sets to true to disable pagination call if still busy.\r\n\t\t\t\t\t$scope.document.busy = true;\r\n\r\n\t\t\t\t\tDocument.paginateCategory(categoryID, $scope.document.page)\r\n\t\t\t\t\t\t.success(function(data){\r\n\t\t\t\t\t\t\t// increment to call the next page for the next call\r\n\t\t\t\t\t\t\t$scope.document.page++;\r\n\t\t\t\t\t\t\t// iterate over the paginated data and push it to the original array\r\n\t\t\t\t\t\t\tangular.forEach(data.data, function(item){\r\n\t\t\t\t\t\t\t\t$scope.document.paginated.push(item);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// Enables again the pagination call for next call.\r\n\t\t\t\t\t\t\t$scope.report.busy = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.error(function(){\r\n\t\t\t\t\t\t\tPreloader.error();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t});\t\r\n\r\n\t\t$scope.refresh = function(){\r\n        \tPreloader.loading();\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t\r\n\t\t\t$scope.document = {};\r\n\t\t\t$scope.document.show = false;\r\n\t\t\t$scope.document.paginated = [];\r\n\t\t\t// 2 is default so the next page to be loaded will be page 2 \r\n\t\t\t$scope.document.page = 2;\r\n\r\n\t\t\tDocument.paginateCategory(categoryID)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.document.details = data;\r\n\t\t\t\t\t$scope.document.paginated = data.data;\r\n\t\t\t\t\t$scope.document.show = true;\r\n\t\t\t\t\t/* stops both preloader*/\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t// $scope.fab = {};\r\n\r\n\t\t// $scope.fab.show = true;\r\n\t\t// $scope.fab.icon = 'mdi-plus';\r\n\t\t// $scope.fab.label = 'File';\r\n\t\t// $scope.fab.action = function(){\r\n\t\t// \t$mdDialog.show({\r\n\t\t//     \tcontroller: 'addDocumentDialogController',\r\n\t\t//       \ttemplateUrl: '/app/components/admin/templates/dialogs/add-document-dialog.template.html',\r\n\t\t//       \tparent: angular.element(document.body),\r\n\t\t//     })\r\n\t //        .then(function() {\r\n\t //          \t$scope.refresh();\r\n\t //        });\r\n\t\t// };\t\r\n\r\n\t\t$scope.openFile = function(id){\r\n\t\t\tvar win = window.open('/document-view/' + id);\r\n\t\t\twin.focus();\r\n\t\t}\r\n\r\n\t\t// $scope.edit = function(id){\r\n\t\t// \tPreloader.set(id);\r\n\t\t// \t$mdDialog.show({\r\n\t\t//     \tcontroller: 'editDocumentDialogController',\r\n\t\t//       \ttemplateUrl: '/app/components/admin/templates/dialogs/edit-document-dialog.template.html',\r\n\t\t//       \tparent: angular.element(document.body),\r\n\t\t//     })\r\n\t //        .then(function() {\r\n\t //          \t$scope.refresh();\r\n\t //        });\r\n\t\t// }\r\n\r\n\t\t// $scope.delete = function(id){\r\n\t\t// \tvar confirm = $mdDialog.confirm()\r\n\t\t//         .title('Delete File')\r\n\t\t//         .textContent('Are you sure you want to delete this file ?')\r\n\t\t//         .ariaLabel('Delete File')\r\n\t\t//         .ok('Delete')\r\n\t\t//         .cancel('Cancel');\r\n\t\t//     $mdDialog.show(confirm).then(function() {\r\n\t\t//     \tPreloader.loading();\r\n\t\t//     \tDocument.delete(id)\r\n\t\t//     \t\t.success(function(){\r\n\t\t//     \t\t\tPreloader.stop();\r\n\t\t//     \t\t\t$scope.refresh();\r\n\t\t//     \t\t})\r\n\t\t//     \t\t.error(function(){\r\n\t\t//     \t\t\tPreloader.error();\r\n\t\t//     \t\t});\r\n\t\t//     }, function() {\r\n\t\t//     \treturn;\r\n\t\t//     });\r\n\t\t// }\r\n\t}]);","guestModule\r\n\t.controller('mainContentContainerController', ['$scope', '$state', '$mdDialog', 'Category', 'Document', 'Preloader', function($scope, $state, $mdDialog, Category, Document, Preloader){\r\n\t\t$scope.show = {};\r\n\t\t// Init the content of the page\r\n\t\tCategory.index()\r\n\t\t\t.success(function(data){\r\n\t\t\t\t$scope.categories = data;\r\n\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\titem.charLimit = 25;\r\n\t\t\t\t});\r\n\t\t\t\t$scope.show.categories = true;\r\n\t\t\t})\r\n\t\t\t.error(function(){\r\n\t\t\t\tPreloader.error();\r\n\t\t\t});\r\n\r\n\t\t$scope.refresh = function(){\r\n\t\t\t$scope.toolbar.userInput = '';\r\n\t\t\t$scope.results = [];\r\n\t\t\t$scope.show.categories = false;\r\n\t\t\t$scope.categories = [];\r\n        \tPreloader.loading();\r\n\t\t\tCategory.index()\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.categories = data;\r\n\t\t\t\t\t$scope.show.categories = true;\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\titem.charLimit = 35;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/* stops both preloader*/\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Object for toolbar\r\n\t\t *\r\n\t\t*/\r\n\t\t$scope.toolbar = {};\r\n\t\t$scope.toolbar.childState = 'Home';\r\n\r\n\t\t$scope.searchUserInput = function(){\r\n\t\t\t$scope.show.categories = false;\r\n\t\t\tPreloader.loading();\r\n\t\t\tDocument.search($scope.toolbar)\r\n\t\t\t\t.success(function(data){\r\n\t\t\t\t\t$scope.results = data;\r\n\t\t\t\t\tangular.forEach(data, function(item){\r\n\t\t\t\t\t\titem.charLimit = 35;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tPreloader.stop();\r\n\t\t\t\t})\r\n\t\t\t\t.error(function(){\r\n\t\t\t\t\tPreloader.error();\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t// $scope.fab = {};\r\n\r\n\t\t// $scope.fab.show = true;\r\n\t\t// $scope.fab.icon = 'mdi-plus';\r\n\t\t// $scope.fab.label = 'Category';\r\n\t\t// $scope.fab.action = function(){\r\n\t\t// \t$mdDialog.show({\r\n\t\t//     \tcontroller: 'addCategoryDialogController',\r\n\t\t//       \ttemplateUrl: '/app/components/admin/templates/dialogs/add-category-dialog.template.html',\r\n\t\t//       \tparent: angular.element(document.body),\r\n\t\t//     })\r\n\t //        .then(function() {\r\n\t //          \t$scope.refresh();\r\n\t //        });\r\n\t\t// };\t\r\n\r\n\t\t$scope.viewCategory = function(id){\r\n\t\t\t$state.go('main.category', {'categoryID': id});\r\n\t\t};\r\n\r\n\t\t$scope.openFile = function(id){\r\n\t\t\tvar win = window.open('/document-view/' + id);\r\n\t\t\twin.focus();\r\n\t\t}\r\n\r\n\t\t// $scope.editFolder = function(id){\r\n\t\t// \tPreloader.set(id);\r\n\t\t// \t$mdDialog.show({\r\n\t\t//     \tcontroller: 'editCategoryDialogController',\r\n\t\t//       \ttemplateUrl: '/app/components/admin/templates/dialogs/add-category-dialog.template.html',\r\n\t\t//       \tparent: angular.element(document.body),\r\n\t\t//     })\r\n\t //        .then(function() {\r\n\t //          \t$scope.refresh();\r\n\t //        });\r\n\t\t// }\r\n\r\n\t\t// $scope.edit = function(id){\r\n\t\t// \tPreloader.set(id);\r\n\t\t// \t$mdDialog.show({\r\n\t\t//     \tcontroller: 'editDocumentDialogController',\r\n\t\t//       \ttemplateUrl: '/app/components/admin/templates/dialogs/edit-document-dialog.template.html',\r\n\t\t//       \tparent: angular.element(document.body),\r\n\t\t//     })\r\n\t //        .then(function() {\r\n\t //          \t$scope.refresh();\r\n\t //        });\r\n\t\t// }\r\n\r\n\t\t// $scope.delete = function(id){\r\n\t\t// \tvar confirm = $mdDialog.confirm()\r\n\t\t//         .title('Delete File')\r\n\t\t//         .textContent('Are you sure you want to delete this file ?')\r\n\t\t//         .ariaLabel('Delete File')\r\n\t\t//         .ok('Delete')\r\n\t\t//         .cancel('Cancel');\r\n\t\t//     $mdDialog.show(confirm).then(function() {\r\n\t\t//     \tPreloader.loading();\r\n\t\t//     \tDocument.delete(id)\r\n\t\t//     \t\t.success(function(){\r\n\t\t//     \t\t\tPreloader.stop();\r\n\t\t//     \t\t\t$scope.refresh();\r\n\t\t//     \t\t})\r\n\t\t//     \t\t.error(function(){\r\n\t\t//     \t\t\tPreloader.error();\r\n\t\t//     \t\t});\r\n\t\t//     }, function() {\r\n\t\t//     \treturn;\r\n\t\t//     });\r\n\t\t// }\r\n\t}]);"],"sourceRoot":"/source/"}